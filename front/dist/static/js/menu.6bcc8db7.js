(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["menu"],{"0449":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("skContainer",{scopedSlots:e._u([{key:"header",fn:function(){return[a("skBreadcrumb",{attrs:{list:e.breadcrumbList}})]},proxy:!0}])},[a("div",[a("vxe-form",{ref:"xForm",attrs:{"title-align":"right","title-width":"100",data:e.form,loading:e.loading,rules:e.formRules},on:{submit:e.submitEvent}},[a("vxe-form-item",{attrs:{title:"名称",field:"name",span:"24"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"crop-demo"},[a("img",{staticClass:"pre-img",attrs:{src:e.cropImg}}),a("div",{staticClass:"crop-demo-btn"},[e._v("\n                        选择图片\n                        "),a("input",{staticClass:"crop-input",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:e.setImage}})])])]}}])}),a("vxe-form-item",{attrs:{title:"账号",field:"username",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[a("vxe-input",{attrs:{disabled:!0},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})]},proxy:!0}])}),a("vxe-form-item",{attrs:{title:"角色",field:"roleName",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[a("vxe-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})]},proxy:!0}])}),a("vxe-form-item",{attrs:{title:"昵称",field:"nickName",span:"12"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("vxe-input",{attrs:{placeholder:"请输入昵称",clearable:""},on:{input:function(a){return e.$refs.xForm.updateStatus(t)}},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})]}}])}),a("vxe-form-item",{attrs:{title:"性别",field:"gender",span:"12"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("vxe-select",{attrs:{placeholder:"请选择性别",clearable:""},on:{change:function(a){return e.$refs.xForm.updateStatus(t)}},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("vxe-option",{attrs:{value:0,label:"女"}}),a("vxe-option",{attrs:{value:1,label:"男"}})],1)]}}])}),a("vxe-form-item",{attrs:{title:"电话号码",field:"mobile",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[a("vxe-input",{attrs:{placeholder:"请输入电话号码",clearable:""},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})]},proxy:!0}])}),a("vxe-form-item",{attrs:{title:"邮箱",field:"email",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[a("vxe-input",{attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})]},proxy:!0}])}),a("vxe-form-item",{attrs:{title:"地址",field:"address",span:"24"},scopedSlots:e._u([{key:"default",fn:function(){return[a("vxe-textarea",{attrs:{placeholder:"请输入地址",clearable:""},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})]},proxy:!0}])}),a("vxe-form-item",{attrs:{align:"left",span:"24"},scopedSlots:e._u([{key:"default",fn:function(){return[a("vxe-button",{attrs:{type:"submit",status:"primary"}},[e._v("提交")])]},proxy:!0}])})],1)],1),a("el-dialog",{attrs:{title:"裁剪图片",visible:e.dialogVisible,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("vue-cropper",{ref:"cropper",staticStyle:{width:"100%",height:"300px"},attrs:{src:e.imgSrc,ready:e.cropImage,zoom:e.cropImage,cropmove:e.cropImage}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelCrop}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},r=[],n=(a("8dee"),a("aa18"),a("982e"),a("b775")),o=a("e909"),l=a.n(o),s={name:"userInfo",data:function(){return{breadcrumbList:[{icon:"el-icon-user",text:"用户信息"}],defaultSrc:"",fileList:[],imgSrc:"",cropImg:"",dialogVisible:!1,loading:!1,form:{headImageUrl:null,username:null,roleName:null,nickName:null,gender:null,email:null,address:null,mobile:null},formRules:{nickName:[{required:!0,message:"请输入名称"},{min:3,max:5,message:"长度在 3 到 5 个字符"}],gender:[{required:!0,message:"请选择性别"}],email:[{required:!0,message:"请输入邮箱"}],mobile:[{required:!0,message:"请输入电话号码"},{min:11,max:11,message:"电话号码格式不正确"},{pattern:/(13|14|15|17|18)[0-9]{9}/,trigger:"change",message:"电话号码格式不正确"}]}}},components:{VueCropper:l.a},methods:{getUserInfo:function(){var e=this;return Object(n["a"])({url:"api/loginedUserInfo/",method:"get",params:{}}).then((function(t){if(2e3===t.code){var a=t.data;e.cropImg=a.headImageUrl,e.form=t.data}}))},setImage:function(e){var t=this,a=e.target.files[0];if(a.type.includes("image/")){var i=new FileReader;i.onload=function(e){t.dialogVisible=!0,t.imgSrc=e.target.result,t.$refs.cropper&&t.$refs.cropper.replace(e.target.result)},i.readAsDataURL(a)}},cropImage:function(){this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL(),console.log(this.cropImg)},cancelCrop:function(){this.dialogVisible=!1,this.cropImg=this.defaultSrc},imageuploaded:function(e){console.log(e)},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传接口上传失败，可更改为自己的服务器接口"})},submitEvent:function(){var e=this;return this.loading=!0,Object(n["a"])({url:"api/loginedUserInfo/",method:"post",data:this.form}).then((function(t){e.loading=!1,2e3===t.code?e.$XModal.message({message:t.message,status:"success"}):e.$XModal.message({message:t.message,status:"error"})})).catch((function(t){e.loading=!1}))}},created:function(){this.getUserInfo()}},c=s,h=(a("239c"),a("c701")),u=Object(h["a"])(c,i,r,!1,null,"0adc3a9a",null);t["default"]=u.exports},"0d31":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("skContainer",{scopedSlots:e._u([{key:"header",fn:function(){return[a("skBreadcrumb",{attrs:{list:e.breadcrumbList}})]},proxy:!0}])},[a("singlePage",{attrs:{urlConfig:e.urlConfig,tableColumn:e.tableColumn,formConfig:e.formConfig,searchConfig:e.searchConfig,propsEditConfig:e.propsEditConfig}}),a("modalRadioTable",{attrs:{tableUrl:"/api/role/",title:"角色选择",modalShow:e.roleSelect,tableColumn:e.roleTableCol,radioConfig:e.radioConfig},on:{"update:modalShow":function(t){e.roleSelect=t},"update:modal-show":function(t){e.roleSelect=t},onSubmit:e.modalSubmit}})],1)},r=[],n={methods:{onRole:function(){this.roleSelect=!0},modalSubmit:function(e){this.formConfig.formData.roleId=e.roleId,this.formConfig.formData.roleName=e.roleName},checkRadioMethod:function(e){var t=e.row,a=sessionStorage.getItem("UserInfo");a=this.$utils.toStringJSON(a);var i=a["rId"];return t.roleId!=i},testSolt:function(e){console.log(e),alert(112233)}}},o={name:"user",mixins:[n],data:function(){return{breadcrumbList:[{icon:"",text:"系统管理"},{icon:"",text:"用户管理"}],tableColumn:[{type:"checkbox",width:50,fixed:null},{type:"seq",width:60,title:"序号",fixed:null},{field:"username",title:"账号"},{field:"nickName",title:"昵称"},{field:"headImageUrl",title:"头像",cellRender:{name:"ImgCell"}},{field:"gender",title:"性别",cellRender:{name:"Gender"}},{field:"roleName",title:"角色"},{field:"createDate",title:"注册时间",showOverflow:!0},{field:"enable",title:"是否可用",cellRender:{name:"IsEnable"}}],searchConfig:{formItems:[{field:"username",title:"账号",span:12,itemRender:{name:"$input",props:{placeholder:"请输入名称"}}},{field:"nickName",title:"昵称",span:12,itemRender:{name:"$input",props:{placeholder:"请输入真实姓名"}}},{field:"roleName",title:"角色",span:12,itemRender:{name:"$input",props:{placeholder:"请输入角色"}}},{field:"isRegregisterPhone",title:"手机用户",span:12,itemRender:{name:"$select",options:[{label:"是",value:1},{label:"否",value:0}],props:{transfer:!0,placeholder:"请选择是否手机用户"}}},{field:"enable",title:"是否可用",span:12,itemRender:{name:"$select",options:[{label:"是",value:1},{label:"否",value:0}],props:{placeholder:"请选择是否可用"}}},{field:"gender",title:"性别",span:12,itemRender:{name:"$select",options:[{label:"男",value:1},{label:"女",value:0}],props:{transfer:!0,placeholder:"请选择性别"}}}],formData:{address:null,appType:null,auditDate:null,auditStatus:null,auditor:null,createDate:null,createID:null,creator:null,deptName:null,dept_Id:null,email:null,enable:null,gender:null,headImageUrl:null,isRegregisterPhone:null,lastLoginDate:null,lastModifyPwdDate:null,mobile:null,modifier:null,modifyDate:null,modifyID:null,orderNo:null,phoneNo:null,remark:null,roleName:null,role_Id:null,tel:null,token:null,username:null,nickName:null,userId:null},mainvalue:"username"},formConfig:{formData:{address:null,appType:null,auditDate:null,auditStatus:null,auditor:null,createDate:null,createID:null,creator:null,deptName:null,dept_Id:null,email:null,enable:null,gender:null,headImageUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",isRegregisterPhone:null,lastLoginDate:null,lastModifyPwdDate:null,mobile:null,modifier:null,modifyDate:null,modifyID:null,orderNo:null,phoneNo:null,remark:null,roleName:null,roleId:null,tel:null,token:null,username:null,password:"123456",nickName:null,userId:null},formRules:{username:[{required:!0,message:"请输入账号"}],nickName:[{required:!0,message:"请输入真实姓名"}],roleName:[{required:!0,message:"请选择角色"}],isRegregisterPhone:[{required:!0,message:"请选择是否手机用户"}],enable:[{required:!0,message:"请选择是否可用"}],gender:[{required:!0,message:"请选择性别"}]},formItems:[{align:"left",span:24,titleAlign:"left",itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"提交",status:"primary"}},{props:{type:"reset",content:"重置"}}]}},{title:"基本信息",span:24,titleAlign:"left",titleWidth:200,titlePrefix:{message:"请填写必填项",icon:"fa fa-address-card-o"},itemRender:{name:"$divider",props:{title:"基本信息"}}},{field:"username",title:"账号",span:12,itemRender:{name:"$input",props:{placeholder:"请输入名称",disabled:!1}}},{field:"nickName",title:"真实姓名",span:12,itemRender:{name:"$input",props:{placeholder:"请输入真实姓名"}}},{field:"roleName",title:"角色",span:12,itemRender:{name:"$input",props:{placeholder:"请选择角色"},events:{focus:this.onRole}}},{field:"isRegregisterPhone",title:"手机用户",span:12,itemRender:{name:"$select",options:[{label:"是",value:1},{label:"否",value:0}],props:{placeholder:"请选择是否手机用户"}}},{field:"enable",title:"是否可用",span:12,itemRender:{name:"$select",options:[{label:"是",value:1},{label:"否",value:0}],props:{placeholder:"请选择是否可用"}}},{field:"gender",title:"性别",span:12,itemRender:{name:"$select",options:[{label:"男",value:1},{label:"女",value:0}],props:{placeholder:"请选择性别"}}},{field:"createDate",title:"注册时间",span:12,itemRender:{name:"$input",props:{disabled:!0,placeholder:"-"}}},{field:"creator",title:"创建人",span:12,itemRender:{name:"$input",props:{disabled:!0,placeholder:"-"}}},{field:"remark",title:"备注",span:24,itemRender:{name:"$textarea",props:{autosize:{minRows:2,maxRows:4},placeholder:"请输入备注"}}}],detailList:["userName","nickName","role","sex","age","address"]},urlConfig:{url:"/api/user/",key:"userId",dialog:"alert"},roleSelect:!1,roleTableCol:[{field:"roleId",title:"角色Id"},{field:"roleName",title:"角色名"}],radioConfig:{highlight:!0,trigger:"row",checkMethod:this.checkRadioMethod},propsEditConfig:{"formConfig.formItems.2.itemRender.props.disabled":[!1,!0]}}}},l=o,s=a("c701"),c=Object(s["a"])(l,i,r,!1,null,"232ab709",null);t["default"]=c.exports},1701:function(e,t,a){},"239c":function(e,t,a){"use strict";a("1701")},"24cd":function(e,t,a){},"28f8":function(e,t,a){"use strict";function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return i}))},"361a":function(e,t,a){"use strict";a("4dc5")},4616:function(e,t,a){},"47f1":function(e,t,a){
/*!
 * Cropper.js v1.5.9
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-09-10T13:16:26.743Z
 */
(function(t,a){e.exports=a()})(0,(function(){"use strict";function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e){return s(e)||c(e)||h(e)||d()}function s(e){if(Array.isArray(e))return u(e)}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e,t){if(e){if("string"===typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p="undefined"!==typeof window&&"undefined"!==typeof window.document,m=p?window:{},f=!(!p||!m.document.documentElement)&&"ontouchstart"in m.document.documentElement,g=!!p&&"PointerEvent"in m,b="cropper",v="all",y="crop",w="move",x="zoom",k="e",C="w",D="s",M="n",N="ne",I="nw",O="se",R="sw",S="".concat(b,"-crop"),B="".concat(b,"-disabled"),q="".concat(b,"-hidden"),T="".concat(b,"-hide"),$="".concat(b,"-invisible"),E="".concat(b,"-modal"),j="".concat(b,"-move"),L="".concat(b,"Action"),_="".concat(b,"Preview"),z="crop",A="move",H="none",W="crop",P="cropend",X="cropmove",Y="cropstart",U="dblclick",V=f?"touchstart":"mousedown",F=f?"touchmove":"mousemove",J=f?"touchend touchcancel":"mouseup",Z=g?"pointerdown":V,Q=g?"pointermove":F,K=g?"pointerup pointercancel":J,G="ready",ee="resize",te="wheel",ae="zoom",ie="image/jpeg",re=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ne=/^data:/,oe=/^data:image\/jpeg;base64,/,le=/^img|canvas$/i,se=200,ce=100,he={viewMode:0,dragMode:z,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:se,minContainerHeight:ce,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ue='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',de=Number.isNaN||m.isNaN;function pe(e){return"number"===typeof e&&!de(e)}var me=function(e){return e>0&&e<1/0};function fe(e){return"undefined"===typeof e}function ge(t){return"object"===e(t)&&null!==t}var be=Object.prototype.hasOwnProperty;function ve(e){if(!ge(e))return!1;try{var t=e.constructor,a=t.prototype;return t&&a&&be.call(a,"isPrototypeOf")}catch(i){return!1}}function ye(e){return"function"===typeof e}var we=Array.prototype.slice;function xe(e){return Array.from?Array.from(e):we.call(e)}function ke(e,t){return e&&ye(t)&&(Array.isArray(e)||pe(e.length)?xe(e).forEach((function(a,i){t.call(e,a,i,e)})):ge(e)&&Object.keys(e).forEach((function(a){t.call(e,e[a],a,e)}))),e}var Ce=Object.assign||function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];return ge(e)&&a.length>0&&a.forEach((function(t){ge(t)&&Object.keys(t).forEach((function(a){e[a]=t[a]}))})),e},De=/\.\d*(?:0|9){12}\d*$/;function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return De.test(e)?Math.round(e*t)/t:e}var Ne=/^width|height|left|top|marginLeft|marginTop$/;function Ie(e,t){var a=e.style;ke(t,(function(e,t){Ne.test(t)&&pe(e)&&(e="".concat(e,"px")),a[t]=e}))}function Oe(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Re(e,t){if(t)if(pe(e.length))ke(e,(function(e){Re(e,t)}));else if(e.classList)e.classList.add(t);else{var a=e.className.trim();a?a.indexOf(t)<0&&(e.className="".concat(a," ").concat(t)):e.className=t}}function Se(e,t){t&&(pe(e.length)?ke(e,(function(e){Se(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Be(e,t,a){t&&(pe(e.length)?ke(e,(function(e){Be(e,t,a)})):a?Re(e,t):Se(e,t))}var qe=/([a-z\d])([A-Z])/g;function Te(e){return e.replace(qe,"$1-$2").toLowerCase()}function $e(e,t){return ge(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Te(t)))}function Ee(e,t,a){ge(a)?e[t]=a:e.dataset?e.dataset[t]=a:e.setAttribute("data-".concat(Te(t)),a)}function je(e,t){if(ge(e[t]))try{delete e[t]}catch(a){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(a){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Te(t)))}var Le=/\s\s*/,_e=function(){var e=!1;if(p){var t=!1,a=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});m.addEventListener("test",a,i),m.removeEventListener("test",a,i)}return e}();function ze(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a;t.trim().split(Le).forEach((function(t){if(!_e){var n=e.listeners;n&&n[t]&&n[t][a]&&(r=n[t][a],delete n[t][a],0===Object.keys(n[t]).length&&delete n[t],0===Object.keys(n).length&&delete e.listeners)}e.removeEventListener(t,r,i)}))}function Ae(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a;t.trim().split(Le).forEach((function(t){if(i.once&&!_e){var n=e.listeners,o=void 0===n?{}:n;r=function(){delete o[t][a],e.removeEventListener(t,r,i);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];a.apply(e,l)},o[t]||(o[t]={}),o[t][a]&&e.removeEventListener(t,o[t][a],i),o[t][a]=r,e.listeners=o}e.addEventListener(t,r,i)}))}function He(e,t,a){var i;return ye(Event)&&ye(CustomEvent)?i=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,a)),e.dispatchEvent(i)}function We(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Pe=m.location,Xe=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ye(e){var t=e.match(Xe);return null!==t&&(t[1]!==Pe.protocol||t[2]!==Pe.hostname||t[3]!==Pe.port)}function Ue(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Ve(e){var t=e.rotate,a=e.scaleX,i=e.scaleY,r=e.translateX,n=e.translateY,o=[];pe(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),pe(n)&&0!==n&&o.push("translateY(".concat(n,"px)")),pe(t)&&0!==t&&o.push("rotate(".concat(t,"deg)")),pe(a)&&1!==a&&o.push("scaleX(".concat(a,")")),pe(i)&&1!==i&&o.push("scaleY(".concat(i,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function Fe(e){var t=o({},e),a=0;return ke(e,(function(e,i){delete t[i],ke(t,(function(t){var i=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),n=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),l=Math.sqrt(i*i+r*r),s=Math.sqrt(n*n+o*o),c=(s-l)/l;Math.abs(c)>Math.abs(a)&&(a=c)}))})),a}function Je(e,t){var a=e.pageX,i=e.pageY,r={endX:a,endY:i};return t?r:o({startX:a,startY:i},r)}function Ze(e){var t=0,a=0,i=0;return ke(e,(function(e){var r=e.startX,n=e.startY;t+=r,a+=n,i+=1})),t/=i,a/=i,{pageX:t,pageY:a}}function Qe(e){var t=e.aspectRatio,a=e.height,i=e.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",n=me(i),o=me(a);if(n&&o){var l=a*t;"contain"===r&&l>i||"cover"===r&&l<i?a=i/t:i=a*t}else n?a=i/t:o&&(i=a*t);return{width:i,height:a}}function Ke(e){var t=e.width,a=e.height,i=e.degree;if(i=Math.abs(i)%180,90===i)return{width:a,height:t};var r=i%90*Math.PI/180,n=Math.sin(r),o=Math.cos(r),l=t*o+a*n,s=t*n+a*o;return i>90?{width:s,height:l}:{width:l,height:s}}function Ge(e,t,a,i){var r=t.aspectRatio,n=t.naturalWidth,o=t.naturalHeight,s=t.rotate,c=void 0===s?0:s,h=t.scaleX,u=void 0===h?1:h,d=t.scaleY,p=void 0===d?1:d,m=a.aspectRatio,f=a.naturalWidth,g=a.naturalHeight,b=i.fillColor,v=void 0===b?"transparent":b,y=i.imageSmoothingEnabled,w=void 0===y||y,x=i.imageSmoothingQuality,k=void 0===x?"low":x,C=i.maxWidth,D=void 0===C?1/0:C,M=i.maxHeight,N=void 0===M?1/0:M,I=i.minWidth,O=void 0===I?0:I,R=i.minHeight,S=void 0===R?0:R,B=document.createElement("canvas"),q=B.getContext("2d"),T=Qe({aspectRatio:m,width:D,height:N}),$=Qe({aspectRatio:m,width:O,height:S},"cover"),E=Math.min(T.width,Math.max($.width,f)),j=Math.min(T.height,Math.max($.height,g)),L=Qe({aspectRatio:r,width:D,height:N}),_=Qe({aspectRatio:r,width:O,height:S},"cover"),z=Math.min(L.width,Math.max(_.width,n)),A=Math.min(L.height,Math.max(_.height,o)),H=[-z/2,-A/2,z,A];return B.width=Me(E),B.height=Me(j),q.fillStyle=v,q.fillRect(0,0,E,j),q.save(),q.translate(E/2,j/2),q.rotate(c*Math.PI/180),q.scale(u,p),q.imageSmoothingEnabled=w,q.imageSmoothingQuality=k,q.drawImage.apply(q,[e].concat(l(H.map((function(e){return Math.floor(Me(e))}))))),q.restore(),B}var et=String.fromCharCode;function tt(e,t,a){var i="";a+=t;for(var r=t;r<a;r+=1)i+=et(e.getUint8(r));return i}var at=/^data:.*,/;function it(e){var t=e.replace(at,""),a=atob(t),i=new ArrayBuffer(a.length),r=new Uint8Array(i);return ke(r,(function(e,t){r[t]=a.charCodeAt(t)})),i}function rt(e,t){var a=[],i=8192,r=new Uint8Array(e);while(r.length>0)a.push(et.apply(null,xe(r.subarray(0,i)))),r=r.subarray(i);return"data:".concat(t,";base64,").concat(btoa(a.join("")))}function nt(e){var t,a=new DataView(e);try{var i,r,n;if(255===a.getUint8(0)&&216===a.getUint8(1)){var o=a.byteLength,l=2;while(l+1<o){if(255===a.getUint8(l)&&225===a.getUint8(l+1)){r=l;break}l+=1}}if(r){var s=r+4,c=r+10;if("Exif"===tt(a,s,4)){var h=a.getUint16(c);if(i=18761===h,(i||19789===h)&&42===a.getUint16(c+2,i)){var u=a.getUint32(c+4,i);u>=8&&(n=c+u)}}}if(n){var d,p,m=a.getUint16(n,i);for(p=0;p<m;p+=1)if(d=n+12*p+2,274===a.getUint16(d,i)){d+=8,t=a.getUint16(d,i),a.setUint16(d,1,i);break}}}catch(f){t=1}return t}function ot(e){var t=0,a=1,i=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:a,scaleY:i}}var lt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,a=this.container,i=this.cropper,r=Number(t.minContainerWidth),n=Number(t.minContainerHeight);Re(i,q),Se(e,q);var o={width:Math.max(a.offsetWidth,r>=0?r:se),height:Math.max(a.offsetHeight,n>=0?n:ce)};this.containerData=o,Ie(i,{width:o.width,height:o.height}),Re(e,q),Se(i,q)},initCanvas:function(){var e=this.containerData,t=this.imageData,a=this.options.viewMode,i=Math.abs(t.rotate)%180===90,r=i?t.naturalHeight:t.naturalWidth,n=i?t.naturalWidth:t.naturalHeight,o=r/n,l=e.width,s=e.height;e.height*o>e.width?3===a?l=e.height*o:s=e.width/o:3===a?s=e.width/o:l=e.height*o;var c={aspectRatio:o,naturalWidth:r,naturalHeight:n,width:l,height:s};this.canvasData=c,this.limited=1===a||2===a,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=Ce({},c)},limitCanvas:function(e,t){var a=this.options,i=this.containerData,r=this.canvasData,n=this.cropBoxData,o=a.viewMode,l=r.aspectRatio,s=this.cropped&&n;if(e){var c=Number(a.minCanvasWidth)||0,h=Number(a.minCanvasHeight)||0;o>1?(c=Math.max(c,i.width),h=Math.max(h,i.height),3===o&&(h*l>c?c=h*l:h=c/l)):o>0&&(c?c=Math.max(c,s?n.width:0):h?h=Math.max(h,s?n.height:0):s&&(c=n.width,h=n.height,h*l>c?c=h*l:h=c/l));var u=Qe({aspectRatio:l,width:c,height:h});c=u.width,h=u.height,r.minWidth=c,r.minHeight=h,r.maxWidth=1/0,r.maxHeight=1/0}if(t)if(o>(s?0:1)){var d=i.width-r.width,p=i.height-r.height;r.minLeft=Math.min(0,d),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,d),r.maxTop=Math.max(0,p),s&&this.limited&&(r.minLeft=Math.min(n.left,n.left+(n.width-r.width)),r.minTop=Math.min(n.top,n.top+(n.height-r.height)),r.maxLeft=n.left,r.maxTop=n.top,2===o&&(r.width>=i.width&&(r.minLeft=Math.min(0,d),r.maxLeft=Math.max(0,d)),r.height>=i.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(e,t){var a=this.canvasData,i=this.imageData;if(t){var r=Ke({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),n=r.width,o=r.height,l=a.width*(n/a.naturalWidth),s=a.height*(o/a.naturalHeight);a.left-=(l-a.width)/2,a.top-=(s-a.height)/2,a.width=l,a.height=s,a.aspectRatio=n/o,a.naturalWidth=n,a.naturalHeight=o,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,Ie(this.canvas,Ce({width:a.width,height:a.height},Ve({translateX:a.left,translateY:a.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,a=this.imageData,i=a.naturalWidth*(t.width/t.naturalWidth),r=a.naturalHeight*(t.height/t.naturalHeight);Ce(a,{width:i,height:r,left:(t.width-i)/2,top:(t.height-r)/2}),Ie(this.image,Ce({width:a.width,height:a.height},Ve(Ce({translateX:a.left,translateY:a.top},a)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,a=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,r={width:t.width,height:t.height};a&&(t.height*a>t.width?r.height=r.width/a:r.width=r.height*a),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=t.left+(t.width-r.width)/2,r.top=t.top+(t.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=Ce({},r)},limitCropBox:function(e,t){var a=this.options,i=this.containerData,r=this.canvasData,n=this.cropBoxData,o=this.limited,l=a.aspectRatio;if(e){var s=Number(a.minCropBoxWidth)||0,c=Number(a.minCropBoxHeight)||0,h=o?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,u=o?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;s=Math.min(s,i.width),c=Math.min(c,i.height),l&&(s&&c?c*l>s?c=s/l:s=c*l:s?c=s/l:c&&(s=c*l),u*l>h?u=h/l:h=u*l),n.minWidth=Math.min(s,h),n.minHeight=Math.min(c,u),n.maxWidth=h,n.maxHeight=u}t&&(o?(n.minLeft=Math.max(0,r.left),n.minTop=Math.max(0,r.top),n.maxLeft=Math.min(i.width,r.left+r.width)-n.width,n.maxTop=Math.min(i.height,r.top+r.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=i.width-n.width,n.maxTop=i.height-n.height))},renderCropBox:function(){var e=this.options,t=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,e.movable&&e.cropBoxMovable&&Ee(this.face,L,a.width>=t.width&&a.height>=t.height?w:v),Ie(this.cropBox,Ce({width:a.width,height:a.height},Ve({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),He(this.element,W,this.getData())}},st={initPreview:function(){var e=this.element,t=this.crossOrigin,a=this.options.preview,i=t?this.crossOriginUrl:this.url,r=e.alt||"The image to preview",n=document.createElement("img");if(t&&(n.crossOrigin=t),n.src=i,n.alt=r,this.viewBox.appendChild(n),this.viewBoxImage=n,a){var o=a;"string"===typeof a?o=e.ownerDocument.querySelectorAll(a):a.querySelector&&(o=[a]),this.previews=o,ke(o,(function(e){var a=document.createElement("img");Ee(e,_,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(a.crossOrigin=t),a.src=i,a.alt=r,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(a)}))}},resetPreview:function(){ke(this.previews,(function(e){var t=$e(e,_);Ie(e,{width:t.width,height:t.height}),e.innerHTML=t.html,je(e,_)}))},preview:function(){var e=this.imageData,t=this.canvasData,a=this.cropBoxData,i=a.width,r=a.height,n=e.width,o=e.height,l=a.left-t.left-e.left,s=a.top-t.top-e.top;this.cropped&&!this.disabled&&(Ie(this.viewBoxImage,Ce({width:n,height:o},Ve(Ce({translateX:-l,translateY:-s},e)))),ke(this.previews,(function(t){var a=$e(t,_),c=a.width,h=a.height,u=c,d=h,p=1;i&&(p=c/i,d=r*p),r&&d>h&&(p=h/r,u=i*p,d=h),Ie(t,{width:u,height:d}),Ie(t.getElementsByTagName("img")[0],Ce({width:n*p,height:o*p},Ve(Ce({translateX:-l*p,translateY:-s*p},e))))})))}},ct={bind:function(){var e=this.element,t=this.options,a=this.cropper;ye(t.cropstart)&&Ae(e,Y,t.cropstart),ye(t.cropmove)&&Ae(e,X,t.cropmove),ye(t.cropend)&&Ae(e,P,t.cropend),ye(t.crop)&&Ae(e,W,t.crop),ye(t.zoom)&&Ae(e,ae,t.zoom),Ae(a,Z,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Ae(a,te,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Ae(a,U,this.onDblclick=this.dblclick.bind(this)),Ae(e.ownerDocument,Q,this.onCropMove=this.cropMove.bind(this)),Ae(e.ownerDocument,K,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Ae(window,ee,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,a=this.cropper;ye(t.cropstart)&&ze(e,Y,t.cropstart),ye(t.cropmove)&&ze(e,X,t.cropmove),ye(t.cropend)&&ze(e,P,t.cropend),ye(t.crop)&&ze(e,W,t.crop),ye(t.zoom)&&ze(e,ae,t.zoom),ze(a,Z,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ze(a,te,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ze(a,U,this.onDblclick),ze(e.ownerDocument,Q,this.onCropMove),ze(e.ownerDocument,K,this.onCropEnd),t.responsive&&ze(window,ee,this.onResize)}},ht={resize:function(){if(!this.disabled){var e,t,a=this.options,i=this.container,r=this.containerData,n=i.offsetWidth/r.width;if(1!==n||i.offsetHeight!==r.height)a.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),a.restore&&(this.setCanvasData(ke(e,(function(t,a){e[a]=t*n}))),this.setCropBoxData(ke(t,(function(e,a){t[a]=e*n}))))}},dblclick:function(){this.disabled||this.options.dragMode===H||this.setDragMode(Oe(this.dragBox,S)?A:z)},wheel:function(e){var t=this,a=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*a,e)))},cropStart:function(e){var t=e.buttons,a=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(pe(t)&&1!==t||pe(a)&&0!==a||e.ctrlKey))){var i,r=this.options,n=this.pointers;e.changedTouches?ke(e.changedTouches,(function(e){n[e.identifier]=Je(e)})):n[e.pointerId||0]=Je(e),i=Object.keys(n).length>1&&r.zoomable&&r.zoomOnTouch?x:$e(e.target,L),re.test(i)&&!1!==He(this.element,Y,{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,i===y&&(this.cropping=!0,Re(this.dragBox,E)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var a=this.pointers;e.preventDefault(),!1!==He(this.element,X,{originalEvent:e,action:t})&&(e.changedTouches?ke(e.changedTouches,(function(e){Ce(a[e.identifier]||{},Je(e,!0))})):Ce(a[e.pointerId||0]||{},Je(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,a=this.pointers;e.changedTouches?ke(e.changedTouches,(function(e){delete a[e.identifier]})):delete a[e.pointerId||0],t&&(e.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,Be(this.dragBox,E,this.cropped&&this.options.modal)),He(this.element,P,{originalEvent:e,action:t}))}}},ut={change:function(e){var t,a=this.options,i=this.canvasData,r=this.containerData,n=this.cropBoxData,o=this.pointers,l=this.action,s=a.aspectRatio,c=n.left,h=n.top,u=n.width,d=n.height,p=c+u,m=h+d,f=0,g=0,b=r.width,S=r.height,B=!0;!s&&e.shiftKey&&(s=u&&d?u/d:1),this.limited&&(f=n.minLeft,g=n.minTop,b=f+Math.min(r.width,i.width,i.left+i.width),S=g+Math.min(r.height,i.height,i.top+i.height));var T=o[Object.keys(o)[0]],$={x:T.endX-T.startX,y:T.endY-T.startY},E=function(e){switch(e){case k:p+$.x>b&&($.x=b-p);break;case C:c+$.x<f&&($.x=f-c);break;case M:h+$.y<g&&($.y=g-h);break;case D:m+$.y>S&&($.y=S-m);break}};switch(l){case v:c+=$.x,h+=$.y;break;case k:if($.x>=0&&(p>=b||s&&(h<=g||m>=S))){B=!1;break}E(k),u+=$.x,u<0&&(l=C,u=-u,c-=u),s&&(d=u/s,h+=(n.height-d)/2);break;case M:if($.y<=0&&(h<=g||s&&(c<=f||p>=b))){B=!1;break}E(M),d-=$.y,h+=$.y,d<0&&(l=D,d=-d,h-=d),s&&(u=d*s,c+=(n.width-u)/2);break;case C:if($.x<=0&&(c<=f||s&&(h<=g||m>=S))){B=!1;break}E(C),u-=$.x,c+=$.x,u<0&&(l=k,u=-u,c-=u),s&&(d=u/s,h+=(n.height-d)/2);break;case D:if($.y>=0&&(m>=S||s&&(c<=f||p>=b))){B=!1;break}E(D),d+=$.y,d<0&&(l=M,d=-d,h-=d),s&&(u=d*s,c+=(n.width-u)/2);break;case N:if(s){if($.y<=0&&(h<=g||p>=b)){B=!1;break}E(M),d-=$.y,h+=$.y,u=d*s}else E(M),E(k),$.x>=0?p<b?u+=$.x:$.y<=0&&h<=g&&(B=!1):u+=$.x,$.y<=0?h>g&&(d-=$.y,h+=$.y):(d-=$.y,h+=$.y);u<0&&d<0?(l=R,d=-d,u=-u,h-=d,c-=u):u<0?(l=I,u=-u,c-=u):d<0&&(l=O,d=-d,h-=d);break;case I:if(s){if($.y<=0&&(h<=g||c<=f)){B=!1;break}E(M),d-=$.y,h+=$.y,u=d*s,c+=n.width-u}else E(M),E(C),$.x<=0?c>f?(u-=$.x,c+=$.x):$.y<=0&&h<=g&&(B=!1):(u-=$.x,c+=$.x),$.y<=0?h>g&&(d-=$.y,h+=$.y):(d-=$.y,h+=$.y);u<0&&d<0?(l=O,d=-d,u=-u,h-=d,c-=u):u<0?(l=N,u=-u,c-=u):d<0&&(l=R,d=-d,h-=d);break;case R:if(s){if($.x<=0&&(c<=f||m>=S)){B=!1;break}E(C),u-=$.x,c+=$.x,d=u/s}else E(D),E(C),$.x<=0?c>f?(u-=$.x,c+=$.x):$.y>=0&&m>=S&&(B=!1):(u-=$.x,c+=$.x),$.y>=0?m<S&&(d+=$.y):d+=$.y;u<0&&d<0?(l=N,d=-d,u=-u,h-=d,c-=u):u<0?(l=O,u=-u,c-=u):d<0&&(l=I,d=-d,h-=d);break;case O:if(s){if($.x>=0&&(p>=b||m>=S)){B=!1;break}E(k),u+=$.x,d=u/s}else E(D),E(k),$.x>=0?p<b?u+=$.x:$.y>=0&&m>=S&&(B=!1):u+=$.x,$.y>=0?m<S&&(d+=$.y):d+=$.y;u<0&&d<0?(l=I,d=-d,u=-u,h-=d,c-=u):u<0?(l=R,u=-u,c-=u):d<0&&(l=N,d=-d,h-=d);break;case w:this.move($.x,$.y),B=!1;break;case x:this.zoom(Fe(o),e),B=!1;break;case y:if(!$.x||!$.y){B=!1;break}t=We(this.cropper),c=T.startX-t.left,h=T.startY-t.top,u=n.minWidth,d=n.minHeight,$.x>0?l=$.y>0?O:N:$.x<0&&(c-=u,l=$.y>0?R:I),$.y<0&&(h-=d),this.cropped||(Se(this.cropBox,q),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}B&&(n.width=u,n.height=d,n.left=c,n.top=h,this.action=l,this.renderCropBox()),ke(o,(function(e){e.startX=e.endX,e.startY=e.endY}))}},dt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Re(this.dragBox,E),Se(this.cropBox,q),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ce({},this.initialImageData),this.canvasData=Ce({},this.initialCanvasData),this.cropBoxData=Ce({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ce(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Se(this.dragBox,E),Re(this.cropBox,q)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ke(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Se(this.cropper,B)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Re(this.cropper,B)),this},destroy:function(){var e=this.element;return e[b]?(e[b]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,i=a.left,r=a.top;return this.moveTo(fe(e)?e:i+Number(e),fe(t)?t:r+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(pe(e)&&(a.left=e,i=!0),pe(t)&&(a.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var a=this.canvasData;return e=Number(e),e=e<0?1/(1-e):1+e,this.zoomTo(a.width*e/a.naturalWidth,null,t)},zoomTo:function(e,t,a){var i=this.options,r=this.canvasData,n=r.width,o=r.height,l=r.naturalWidth,s=r.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var c=l*e,h=s*e;if(!1===He(this.element,ae,{ratio:e,oldRatio:n/l,originalEvent:a}))return this;if(a){var u=this.pointers,d=We(this.cropper),p=u&&Object.keys(u).length?Ze(u):{pageX:a.pageX,pageY:a.pageY};r.left-=(c-n)*((p.pageX-d.left-r.left)/n),r.top-=(h-o)*((p.pageY-d.top-r.top)/o)}else ve(t)&&pe(t.x)&&pe(t.y)?(r.left-=(c-n)*((t.x-r.left)/n),r.top-=(h-o)*((t.y-r.top)/o)):(r.left-=(c-n)/2,r.top-=(h-o)/2);r.width=c,r.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),pe(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,pe(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(pe(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(pe(e)&&(a.scaleX=e,i=!0),pe(t)&&(a.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.options,i=this.imageData,r=this.canvasData,n=this.cropBoxData;if(this.ready&&this.cropped){e={x:n.left-r.left,y:n.top-r.top,width:n.width,height:n.height};var o=i.width/i.naturalWidth;if(ke(e,(function(t,a){e[a]=t/o})),t){var l=Math.round(e.y+e.height),s=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=s-e.x,e.height=l-e.y}}else e={x:0,y:0,width:0,height:0};return a.rotatable&&(e.rotate=i.rotate||0),a.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,a=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&ve(e)){var n=!1;t.rotatable&&pe(e.rotate)&&e.rotate!==a.rotate&&(a.rotate=e.rotate,n=!0),t.scalable&&(pe(e.scaleX)&&e.scaleX!==a.scaleX&&(a.scaleX=e.scaleX,n=!0),pe(e.scaleY)&&e.scaleY!==a.scaleY&&(a.scaleY=e.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var o=a.width/a.naturalWidth;pe(e.x)&&(r.left=e.x*o+i.left),pe(e.y)&&(r.top=e.y*o+i.top),pe(e.width)&&(r.width=e.width*o),pe(e.height)&&(r.height=e.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?Ce({},this.containerData):{}},getImageData:function(){return this.sized?Ce({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&ke(["left","top","width","height","naturalWidth","naturalHeight"],(function(a){t[a]=e[a]})),t},setCanvasData:function(e){var t=this.canvasData,a=t.aspectRatio;return this.ready&&!this.disabled&&ve(e)&&(pe(e.left)&&(t.left=e.left),pe(e.top)&&(t.top=e.top),pe(e.width)?(t.width=e.width,t.height=e.width/a):pe(e.height)&&(t.height=e.height,t.width=e.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,a,i=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ve(e)&&(pe(e.left)&&(i.left=e.left),pe(e.top)&&(i.top=e.top),pe(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),pe(e.height)&&e.height!==i.height&&(a=!0,i.height=e.height),r&&(t?i.height=i.width/r:a&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,a=Ge(this.image,this.imageData,t,e);if(!this.cropped)return a;var i=this.getData(),r=i.x,n=i.y,o=i.width,s=i.height,c=a.width/Math.floor(t.naturalWidth);1!==c&&(r*=c,n*=c,o*=c,s*=c);var h=o/s,u=Qe({aspectRatio:h,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=Qe({aspectRatio:h,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Qe({aspectRatio:h,width:e.width||(1!==c?a.width:o),height:e.height||(1!==c?a.height:s)}),m=p.width,f=p.height;m=Math.min(u.width,Math.max(d.width,m)),f=Math.min(u.height,Math.max(d.height,f));var g=document.createElement("canvas"),b=g.getContext("2d");g.width=Me(m),g.height=Me(f),b.fillStyle=e.fillColor||"transparent",b.fillRect(0,0,m,f);var v=e.imageSmoothingEnabled,y=void 0===v||v,w=e.imageSmoothingQuality;b.imageSmoothingEnabled=y,w&&(b.imageSmoothingQuality=w);var x,k,C,D,M,N,I=a.width,O=a.height,R=r,S=n;R<=-o||R>I?(R=0,x=0,C=0,M=0):R<=0?(C=-R,R=0,x=Math.min(I,o+R),M=x):R<=I&&(C=0,x=Math.min(o,I-R),M=x),x<=0||S<=-s||S>O?(S=0,k=0,D=0,N=0):S<=0?(D=-S,S=0,k=Math.min(O,s+S),N=k):S<=O&&(D=0,k=Math.min(s,O-S),N=k);var B=[R,S,x,k];if(M>0&&N>0){var q=m/o;B.push(C*q,D*q,M*q,N*q)}return b.drawImage.apply(b,[a].concat(l(B.map((function(e){return Math.floor(Me(e))}))))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||fe(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,a=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r=e===z,n=t.movable&&e===A;e=r||n?e:H,t.dragMode=e,Ee(a,L,e),Be(a,S,r),Be(a,j,n),t.cropBoxMovable||(Ee(i,L,e),Be(i,S,r),Be(i,j,n))}return this}},pt=m.Cropper,mt=function(){function e(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!a||!le.test(a.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=a,this.options=Ce({},he,ve(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i(e,[{key:"init",value:function(){var e,t=this.element,a=t.tagName.toLowerCase();if(!t[b]){if(t[b]=this,"img"===a){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===a&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var a=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(ne.test(e))oe.test(e)?this.read(it(e)):this.clone();else{var r=new XMLHttpRequest,n=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=n,r.onerror=n,r.ontimeout=n,r.onprogress=function(){r.getResponseHeader("content-type")!==ie&&r.abort()},r.onload=function(){t.read(r.response)},r.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&Ye(e)&&a.crossOrigin&&(e=Ue(e)),r.open("GET",e),r.responseType="arraybuffer",r.withCredentials="use-credentials"===a.crossOrigin,r.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,a=this.imageData,i=nt(e),r=0,n=1,o=1;if(i>1){this.url=rt(e,ie);var l=ot(i);r=l.rotate,n=l.scaleX,o=l.scaleY}t.rotatable&&(a.rotate=r),t.scalable&&(a.scaleX=n,a.scaleY=o),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,a=e.crossOrigin,i=t;this.options.checkCrossOrigin&&Ye(t)&&(a||(a="anonymous"),i=Ue(t)),this.crossOrigin=a,this.crossOriginUrl=i;var r=document.createElement("img");a&&(r.crossOrigin=a),r.src=i||t,r.alt=e.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),Re(r,T),e.parentNode.insertBefore(r,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var a=m.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(m.navigator.userAgent),i=function(t,a){Ce(e.imageData,{naturalWidth:t,naturalHeight:a,aspectRatio:t/a}),e.initialImageData=Ce({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||a){var r=document.createElement("img"),n=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){i(r.width,r.height),a||n.removeChild(r)},r.src=t.src,a||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(r))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,a=this.image,i=e.parentNode,r=document.createElement("div");r.innerHTML=ue;var n=r.querySelector(".".concat(b,"-container")),o=n.querySelector(".".concat(b,"-canvas")),l=n.querySelector(".".concat(b,"-drag-box")),s=n.querySelector(".".concat(b,"-crop-box")),c=s.querySelector(".".concat(b,"-face"));this.container=i,this.cropper=n,this.canvas=o,this.dragBox=l,this.cropBox=s,this.viewBox=n.querySelector(".".concat(b,"-view-box")),this.face=c,o.appendChild(a),Re(e,q),i.insertBefore(n,e.nextSibling),this.isImg||Se(a,T),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Re(s,q),t.guides||Re(s.getElementsByClassName("".concat(b,"-dashed")),q),t.center||Re(s.getElementsByClassName("".concat(b,"-center")),q),t.background&&Re(n,"".concat(b,"-bg")),t.highlight||Re(c,$),t.cropBoxMovable&&(Re(c,j),Ee(c,L,v)),t.cropBoxResizable||(Re(s.getElementsByClassName("".concat(b,"-line")),q),Re(s.getElementsByClassName("".concat(b,"-point")),q)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),ye(t.ready)&&Ae(e,G,t.ready,{once:!0}),He(e,G)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Se(this.element,q))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=pt,e}},{key:"setDefaults",value:function(e){Ce(he,ve(e)&&e)}}]),e}();return Ce(mt.prototype,lt,st,ct,ht,ut,dt),mt}))},"4dc5":function(e,t,a){},"5ca1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("skContainerAside",{scopedSlots:e._u([{key:"header",fn:function(){return[a("skBreadcrumb",{attrs:{list:e.breadcrumb}})]},proxy:!0},{key:"aside",fn:function(){return[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("div",{style:{overflowY:"scroll",height:e.treeHeight+"px"}},[a("el-tree",{ref:"tree",attrs:{data:e.menuTreeData,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.onNodeClick}})],1)]},proxy:!0},{key:"default",fn:function(){return[a("vxe-form",{attrs:{data:e.formData,items:e.formItems,rules:e.formRules,"title-align":"right","title-width":"100"},on:{submit:e.onSubmit}}),a("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"权限"}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.authList,callback:function(t){e.authList=t},expression:"authList"}},e._l(e.checkList,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:t}},[e._v(e._s(t))])})),1)],1),a("el-form-item",{attrs:{label:"图标"}},[a("sk-icon-select",{attrs:{"user-input":!0},model:{value:e.formData.icon,callback:function(t){e.$set(e.formData,"icon",t)},expression:"formData.icon"}})],1)],1)]},proxy:!0}])})},r=[],n=(a("a450"),a("b775")),o=function(e){return Object(n["a"])({url:"/api/menu/",method:"get",params:{}})},l=function(e){return Object(n["a"])({url:"/api/menu/"+e.menuId+"/",method:"get",data:e})},s=function(e){return e.menuId?Object(n["a"])({url:"/api/menu/"+e.menuId+"/",method:"put",data:e}):Object(n["a"])({url:"/api/menu/",method:"post",data:e})},c=function(e){return console.log(e),Object(n["a"])({url:"/api/menu/"+e.menuId+"/",method:"delete",data:e})},h={watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this.getScreen();this.treeHeight=e.height-300,this.getMenuData()},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},getMenuData:function(){var e=this;o().then((function(t){e.menuTreeData=e.$utils.toArrayTree(t.data)}))},onNodeClick:function(e,t,a){var i=this,r=e.menuId;l({menuId:r}).then((function(e){i.formData=e.data;var t=i.$utils.toStringJSON(i.formData.auth);t&&t instanceof Array&&t.length>0?i.authList=t.map((function(e){return e.text+"("+e.value+")"})):i.authList=[]}))},onSubmit:function(){var e=this;this.authList&&(this.formData.auth=this.checkBoxList.filter((function(t){var a=t.text+"("+t.value+")";return-1!=e.authList.indexOf(a)}))),this.formData.auth&&this.formData.auth instanceof Array&&this.formData.auth.length>0?this.formData.auth=JSON.stringify(this.formData.auth):this.formData.auth="",s(this.formData).then((function(t){2e3===t.code?e.$XModal.message({message:t.message,id:"update",status:"success"}):e.$XModal.message({message:t.message,id:"update",status:"error"}),e.getMenuData()}))},isSelect:function(){var e=this.formData.menu_Id;return!!e||(this.$message.error("请选择节点"),!1)},onCreate:function(){this.formData={auth:null,createDate:null,creator:null,enable:null,icon:null,menuName:null,menuId:0,modifyDate:null,orderNo:null,parentId:0,tableName:null,url:null}},onCreateChild:function(){var e=this.isSelect();e&&(this.formData=Object.assign({menu_Id:0,enable:1,parentId:this.formData.menu_Id},{auth:null,createDate:null,creator:null,icon:null,menuName:null,modifyDate:null,orderNo:null,tableName:null,url:null}))},onCreateBrother:function(){var e=this.isSelect();e&&(this.formData=Object.assign({menu_Id:0,enable:1,parentId:this.formData.parentId},{auth:null,createDate:null,creator:null,icon:null,menuName:null,modifyDate:null,orderNo:null,tableName:null,url:null}))},onDelete:function(){var e=this;if(0==this.formData.menu_Id)return this.$message.error("请选择菜单");var t="您确定要删除【"+this.formData.menuName+"】菜单吗？";this.$XModal.confirm(t).then((function(t){"confirm"==t?c({menuId:e.formData.menuId}).then((function(t){e.formData={auth:"",createDate:null,creator:null,enable:null,icon:null,menuName:null,menuId:0,modifyDate:null,orderNo:null,parentId:0,tableName:null,url:null},t.status?e.$XModal.message({message:"删除成功",id:"delete"}):e.$XModal.message({message:t.message,id:"delete",status:"warning"}),e.getMenuData()})):e.$XModal.message({message:"您已取消",id:"delete",status:"info"})}))}}},u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("el-popover",{ref:"pop",attrs:{placement:e.placement,width:"300",trigger:"click"},model:{value:e.pop,callback:function(t){e.pop=t},expression:"pop"}},[e.clearable?a("el-row",{staticClass:"d2-mb-10",attrs:{type:"flex",justify:"end"}},[a("el-button",{staticClass:"d2-fr",attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.selectIcon()}}},[e._v("\n        清空\n      ")])],1):e._e(),a("el-input",{attrs:{clearable:!0,placeholder:"搜索 比如 'plus'","prefix-icon":"el-icon-search"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e.searchMode?e._e():a("el-collapse",{staticClass:"d2-icon-select--group",model:{value:e.collapseActive,callback:function(t){e.collapseActive=t},expression:"collapseActive"}},e._l(e.icon,(function(t,i){return a("el-collapse-item",{key:i,staticClass:"d2-icon-select--class",attrs:{title:t.title,name:i}},[a("el-row",{staticClass:"d2-icon-select--class-row"},e._l(t.icon,(function(t,i){return a("el-col",{key:i,staticClass:"d2-icon-select--class-col",attrs:{span:4},nativeOn:{click:function(a){return e.selectIcon(t)}}},[a("i",{class:"fa fa-"+t})])})),1)],1)})),1),e.searchMode?a("div",{staticClass:"d2-icon-select--group"},e._l(e.iconFilted,(function(t,i){return a("div",{key:i,staticClass:"d2-icon-select--class"},[a("div",{staticClass:"d2-icon-select--class-title"},[e._v(e._s(t.title))]),a("el-row",{staticClass:"d2-icon-select--class-row"},e._l(t.icon,(function(t,i){return a("el-col",{key:i,staticClass:"d2-icon-select--class-col",attrs:{span:4},nativeOn:{click:function(a){return e.selectIcon(t)}}},[a("i",{class:"fa fa-"+t})])})),1)],1)})),0):e._e()],1),e.userInput?a("el-input",e._b({staticStyle:{"max-width":"240px"},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}},"el-input",e.bind,!1),[e.value?a("template",{slot:"prepend"},[a("i",{class:"fa fa-"+e.value})]):e._e(),a("el-button",{directives:[{name:"popover",rawName:"v-popover:pop",arg:"pop"}],attrs:{slot:"append"},slot:"append"},[a("i",{staticClass:"fa fa-list"})])],2):e._e(),e.userInput?e._e():a("el-button",{directives:[{name:"popover",rawName:"v-popover:pop",arg:"pop"}]},[e.value?[a("i",{class:"fa fa-"+e.value})]:e._e(),e._v("\n    "+e._s(e.value?e.value:e.placeholder)+"\n  ")],2)],1)},d=[],p=(a("ac67"),a("1bc7"),a("32ea"),a("28f8")),m=[{title:"网页",icon:["address-book","address-book-o","address-card","address-card-o","adjust","american-sign-language-interpreting","anchor","archive","area-chart","arrows","arrows-h","arrows-v","asl-interpreting","assistive-listening-systems","asterisk","at","audio-description","automobile","balance-scale","ban","bank","bar-chart","bar-chart-o","barcode","bars","bath","bathtub","battery","battery-0","battery-1","battery-2","battery-3","battery-4","battery-empty","battery-full","battery-half","battery-quarter","battery-three-quarters","bed","beer","bell","bell-o","bell-slash","bell-slash-o","bicycle","binoculars","birthday-cake","blind","bluetooth","bluetooth-b","bolt","bomb","book","bookmark","bookmark-o","braille","briefcase","bug","building","building-o","bullhorn","bullseye","bus","cab","calculator","calendar","calendar-check-o","calendar-minus-o","calendar-o","calendar-plus-o","calendar-times-o","camera","camera-retro","car","caret-square-o-down","caret-square-o-left","caret-square-o-right","caret-square-o-up","cart-arrow-down","cart-plus","cc","certificate","check","check-circle","check-circle-o","check-square","check-square-o","child","circle","circle-o","circle-o-notch","circle-thin","clock-o","clone","close","cloud","cloud-download","cloud-upload","code","code-fork","coffee","cog","cogs","comment","comment-o","commenting","commenting-o","comments","comments-o","compass","copyright","creative-commons","credit-card","credit-card-alt","crop","crosshairs","cube","cubes","cutlery","index","database","deaf","deafness","desktop","diamond","dot-circle-o","download","drivers-license","drivers-license-o","edit","ellipsis-h","ellipsis-v","envelope","envelope-o","envelope-open","envelope-open-o","envelope-square","eraser","exchange","exclamation","exclamation-circle","exclamation-triangle","external-link","external-link-square","eye","eye-slash","eyedropper","fax","feed","female","fighter-jet","file-archive-o","file-audio-o","file-code-o","file-excel-o","file-image-o","file-movie-o","file-pdf-o","file-photo-o","file-picture-o","file-powerpoint-o","file-sound-o","file-video-o","file-word-o","file-zip-o","film","filter","fire","fire-extinguisher","flag","flag-checkered","flag-o","flash","flask","folder","folder-o","folder-open","folder-open-o","frown-o","futbol-o","gamepad","gavel","gear","gears","gift","glass","globe","graduation-cap","group","hand-grab-o","hand-lizard-o","hand-paper-o","hand-peace-o","hand-pointer-o","hand-rock-o","hand-scissors-o","hand-spock-o","hand-stop-o","handshake-o","hard-of-hearing","hashtag","hdd-o","headphones","heart","heart-o","heartbeat","history","home","hotel","hourglass","hourglass-1","hourglass-2","hourglass-3","hourglass-end","hourglass-half","hourglass-o","hourglass-start","i-cursor","id-badge","id-card","id-card-o","image","inbox","industry","info","info-circle","institution","key","keyboard-o","language","laptop","leaf","legal","lemon-o","level-down","level-up","life-bouy","life-buoy","life-ring","life-saver","lightbulb-o","line-chart","location-arrow","lock","low-vision","magic","magnet","mail-forward","mail-reply","mail-reply-all","male","map","map-marker","map-o","map-pin","map-signs","meh-o","microchip","microphone","microphone-slash","minus","minus-circle","minus-square","minus-square-o","mobile","mobile-phone","money","moon-o","mortar-board","motorcycle","mouse-pointer","music","navicon","newspaper-o","object-group","object-ungroup","paint-brush","paper-plane","paper-plane-o","paw","pencil","pencil-square","pencil-square-o","percent","phone","phone-square","photo","picture-o","pie-chart","plane","plug","plus","plus-circle","plus-square","plus-square-o","podcast","power-off","print","puzzle-piece","qrcode","question","question-circle","question-circle-o","quote-left","quote-right","random","recycle","refresh","registered","remove","reorder","reply","reply-all","retweet","road","rocket","rss","rss-square","s15","search","search-minus","search-plus","send","send-o","server","share","share-alt","share-alt-square","share-square","share-square-o","shield","ship","shopping-bag","shopping-basket","shopping-cart","shower","sign-in","sign-language","sign-out","signal","signing","sitemap","sliders","smile-o","snowflake-o","soccer-ball-o","sort","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-asc","sort-desc","sort-down","sort-numeric-asc","sort-numeric-desc","sort-up","space-shuttle","spinner","spoon","square","square-o","star","star-half","star-half-empty","star-half-full","star-half-o","star-o","sticky-note","sticky-note-o","street-view","suitcase","sun-o","support","tablet","tachometer","tag","tags","tasks","taxi","television","terminal","thermometer","thermometer-0","thermometer-1","thermometer-2","thermometer-3","thermometer-4","thermometer-empty","thermometer-full","thermometer-half","thermometer-quarter","thermometer-three-quarters","thumb-tack","thumbs-down","thumbs-o-down","thumbs-o-up","thumbs-up","ticket","times","times-circle","times-circle-o","times-rectangle","times-rectangle-o","tint","toggle-down","toggle-left","toggle-off","toggle-on","toggle-right","toggle-up","trademark","trash","trash-o","tree","trophy","truck","tty","tv","umbrella","universal-access","university","unlock","unlock-alt","unsorted","upload","user","user-circle","user-circle-o","user-o","user-plus","user-secret","user-times","users","vcard","vcard-o","video-camera","volume-control-phone","volume-down","volume-off","volume-up","warning","wheelchair","wheelchair-alt","wifi","window-close","window-close-o","window-maximize","window-minimize","window-restore","wrench"]},{title:"辅助功能",icon:["american-sign-language-interpreting","asl-interpreting","assistive-listening-systems","audio-description","blind","braille","cc","deaf","deafness","hard-of-hearing","low-vision","question-circle-o","sign-language","signing","tty","universal-access","volume-control-phone","wheelchair","wheelchair-alt"]},{title:"手势",icon:["hand-grab-o","hand-lizard-o","hand-o-down","hand-o-left","hand-o-right","hand-o-up","hand-paper-o","hand-peace-o","hand-pointer-o","hand-rock-o","hand-scissors-o","hand-spock-o","hand-stop-o","thumbs-down","thumbs-o-down","thumbs-o-up","thumbs-up"]},{title:"运输",icon:["ambulance","automobile","bicycle","bus","cab","car","fighter-jet","motorcycle","plane","rocket","ship","space-shuttle","subway","taxi","train","truck","wheelchair","wheelchair-alt"]},{title:"性别",icon:["genderless","intersex","mars","mars-double","mars-stroke","mars-stroke-h","mars-stroke-v","mercury","neuter","transgender","transgender-alt","venus","venus-double","venus-mars"]},{title:"文件类型",icon:["file","file-archive-o","file-audio-o","file-code-o","file-excel-o","file-image-o","file-movie-o","file-o","file-pdf-o","file-photo-o","file-picture-o","file-powerpoint-o","file-sound-o","file-text","file-text-o","file-video-o","file-word-o","file-zip-o"]},{title:"可旋转",icon:["circle-o-notch","cog","gear","refresh","spinner"]},{title:"表单",icon:["check-square","check-square-o","circle","circle-o","dot-circle-o","minus-square","minus-square-o","plus-square","plus-square-o","square","square-o"]},{title:"支付",icon:["cc-amex","cc-diners-club","cc-discover","cc-jcb","cc-mastercard","cc-paypal","cc-stripe","cc-visa","credit-card","credit-card-alt","google-wallet","paypal"]},{title:"图表",icon:["area-chart","bar-chart","bar-chart-o","line-chart","pie-chart"]},{title:"货币",icon:["bitcoin","btc","cny","dollar","eur","euro","gbp","gg","gg-circle","ils","inr","jpy","krw","money","rmb","rouble","rub","ruble","rupee","shekel","sheqel","try","turkish-lira","usd","won","yen"]},{title:"文本编辑",icon:["align-center","align-justify","align-left","align-right","bold","chain","chain-broken","clipboard","columns","copy","cut","dedent","eraser","file","file-o","file-text","file-text-o","files-o","floppy-o","font","header","indent","italic","link","list","list-alt","list-ol","list-ul","outdent","paperclip","paragraph","paste","repeat","rotate-left","rotate-right","save","scissors","strikethrough","subscript","superscript","table","text-height","text-width","th","th-large","th-list","underline","undo","unlink"]},{title:"指示方向",icon:["angle-double-down","angle-double-left","angle-double-right","angle-double-up","angle-down","angle-left","angle-right","angle-up","arrow-circle-down","arrow-circle-left","arrow-circle-o-down","arrow-circle-o-left","arrow-circle-o-right","arrow-circle-o-up","arrow-circle-right","arrow-circle-up","arrow-down","arrow-left","arrow-right","arrow-up","arrows","arrows-alt","arrows-h","arrows-v","caret-down","caret-left","caret-right","caret-square-o-down","caret-square-o-left","caret-square-o-right","caret-square-o-up","caret-up","chevron-circle-down","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-down","chevron-left","chevron-right","chevron-up","exchange","hand-o-down","hand-o-left","hand-o-right","hand-o-up","long-arrow-down","long-arrow-left","long-arrow-right","long-arrow-up","toggle-down","toggle-left","toggle-right","toggle-up"]},{title:"视频播放",icon:["arrows-alt","backward","compress","eject","expand","fast-backward","fast-forward","forward","pause","pause-circle","pause-circle-o","play","play-circle","play-circle-o","random","step-backward","step-forward","stop","stop-circle","stop-circle-o","youtube-play"]},{title:"标志",icon:["500px","adn","amazon","android","angellist","apple","bandcamp","behance","behance-square","bitbucket","bitbucket-square","bitcoin","black-tie","bluetooth","bluetooth-b","btc","buysellads","cc-amex","cc-diners-club","cc-discover","cc-jcb","cc-mastercard","cc-paypal","cc-stripe","cc-visa","chrome","codepen","codiepie","connectdevelop","contao","css3","dashcube","delicious","deviantart","digg","dribbble","dropbox","drupal","edge","eercast","empire","envira","etsy","expeditedssl","fa","facebook","facebook-f","facebook-official","facebook-square","firefox","first-order","flickr","font-awesome","fonticons","fort-awesome","forumbee","foursquare","free-code-camp","ge","get-pocket","gg","gg-circle","git","git-square","github","github-alt","github-square","gitlab","gittip","glide","glide-g","google","google-plus","google-plus-circle","google-plus-official","google-plus-square","google-wallet","gratipay","grav","hacker-news","houzz","html5","imdb","instagram","internet-explorer","ioxhost","joomla","jsfiddle","lastfm","lastfm-square","leanpub","linkedin","linkedin-square","linode","linux","maxcdn","meanpath","medium","meetup","mixcloud","modx","odnoklassniki","odnoklassniki-square","opencart","openid","opera","optin-monster","pagelines","paypal","pied-piper","pied-piper-alt","pied-piper-pp","pinterest","pinterest-p","pinterest-square","product-hunt","qq","quora","ra","ravelry","rebel","reddit","reddit-alien","reddit-square","renren","resistance","safari","scribd","sellsy","share-alt","share-alt-square","shirtsinbulk","simplybuilt","skyatlas","skype","slack","slideshare","snapchat","snapchat-ghost","snapchat-square","soundcloud","spotify","stack-exchange","stack-overflow","steam","steam-square","stumbleupon","stumbleupon-circle","superpowers","telegram","tencent-weibo","themeisle","trello","tripadvisor","tumblr","tumblr-square","twitch","twitter","twitter-square","usb","viacoin","viadeo","viadeo-square","vimeo","vimeo-square","vine","vk","wechat","weibo","weixin","whatsapp","wikipedia-w","windows","wordpress","wpbeginner","wpexplorer","wpforms","xing","xing-square","y-combinator","y-combinator-square","yahoo","yc","yc-square","yelp","yoast","youtube","youtube-play","youtube-square"]},{title:"医疗",icon:["ambulance","h-square","heart","heart-o","heartbeat","hospital-o","medkit","plus-square","stethoscope","user-md","wheelchair","wheelchair-alt"]}];function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={name:"sk-icon-select",props:{value:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:"请选择"},placement:{type:String,required:!1,default:"right"},clearable:{type:Boolean,required:!1,default:!0},userInput:{type:Boolean,required:!1,default:!1},autoClose:{type:Boolean,required:!1,default:!0}},data:function(){return{pop:!1,icon:m,currentValue:"",searchText:"",collapseActive:[]}},computed:{bind:function(){return g({placeholder:this.placeholder,clearable:this.clearable},this.$attrs)},searchMode:function(){return!!this.searchText},iconFilted:function(){var e=this;return this.icon.map((function(t){return{title:t.title,icon:t.icon.filter((function(t){return t.indexOf(e.searchText)>=0}))}})).filter((function(e){return e.icon.length>0}))}},watch:{value:function(e){this.currentValue=e}},created:function(){this.currentValue=this.value},methods:{selectIcon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$emit("input",e),e&&this.autoClose&&(this.pop=!1)}}},v=b,y=(a("361a"),a("c701")),w=Object(y["a"])(v,u,d,!1,null,"2e7ca4ba",null),x=w.exports,k={name:"skmenu",mixins:[h],components:{skIconSelect:x},data:function(){return{breadcrumb:[{icon:"el-icon-lx-calendar",text:"系统管理"},{icon:"",text:"菜单管理"}],filterText:"",treeHeight:500,menuTreeData:[],defaultProps:{children:"children",label:"menuName"},formData:{auth:null,createDate:null,creator:null,enable:null,icon:null,menuName:null,menuId:0,modifyDate:null,orderNo:null,parentId:0,tableName:null,url:null},formRules:{parentId:[{required:!0,message:"请输入父级ID"}],menuName:[{required:!0,message:"菜单名称不能为空"}],tableName:[{required:!0,message:"视图/表名不能为空"}],enable:[{required:!0,message:"是否启用不能为空"}],orderNo:[{required:!0,message:"排序号不能为空"}],url:[{required:!1,pattern:"^/.*?",message:"请以/开头"}]},checkBoxList:[{text:"查询",value:"Search"},{text:"新增",value:"Create"},{text:"删除",value:"Delete"},{text:"编辑",value:"Update"}],checkList:["查询(Search)","新增(Create)","删除(Delete)","编辑(Update)"],formItems:[{align:"left",span:24,titleAlign:"left",itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"保存",status:"primary"}},{props:{type:"button",status:"success",content:"新增"},events:{click:this.onCreate}},{props:{type:"button",status:"warning",content:"添加子级"},events:{click:this.onCreateChild}},{props:{type:"button",status:"my-purple",content:"添加同级"},events:{click:this.onCreateBrother}},{props:{type:"button",status:"danger",content:"删除"},events:{click:this.onDelete}}]}},{field:"menuId",title:"菜单ID",span:12,itemRender:{name:"$input",props:{disabled:!0}}},{field:"parentId",title:"父级ID",span:12,itemRender:{name:"$input",props:{placeholder:"请输入父级ID"}}},{field:"menuName",title:"菜单名称",span:12,itemRender:{name:"$input",props:{placeholder:"请输入菜单名称"}}},{field:"tableName",title:"接口",span:12,itemRender:{name:"$input",props:{placeholder:"请输入菜单名称"}}},{field:"url",title:"Url",span:12,itemRender:{name:"$input",props:{placeholder:"请输入Url"}}},{field:"orderNo",title:"排序号",span:12,itemRender:{name:"$input",props:{type:"integer",min:0,placeholder:"请输入排序号"}}},{field:"enable",title:"是否启用",span:12,itemRender:{name:"$select",options:[{label:"是",value:1},{label:"否",value:0}],props:{placeholder:"请选择是否启用"}}},{field:"createDate",title:"创建时间",span:12,itemRender:{name:"$input",props:{disabled:!0,placeholder:"-"}}}],checkAll:!1,isIndeterminate:!0,authList:["查询(Search)"]}},methods:{handleCheckAllChange:function(e){this.authList=e?this.checkList:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){e.length===this.checkList.length?(this.isIndeterminate=!1,this.checkAll=!0):e.length>0?(this.isIndeterminate=!0,this.checkAll=!1):(this.isIndeterminate=!1,this.checkAll=!1)}}},C=k,D=(a("cdbb"),Object(y["a"])(C,i,r,!1,null,null,null));t["default"]=D.exports},8269:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("skContainer",{scopedSlots:e._u([{key:"header",fn:function(){return[a("skBreadcrumb",{attrs:{list:e.breadcrumbList}})]},proxy:!0}])},[a("singlePage",{attrs:{urlConfig:e.urlConfig,tableColumn:e.tableColumn,formConfig:e.formConfig,searchConfig:e.searchConfig}}),a("modalRadioTable",{attrs:{tableUrl:"/api/role/",title:"角色选择",modalShow:e.roleSelect,tableColumn:e.roleTableCol},on:{"update:modalShow":function(t){e.roleSelect=t},"update:modal-show":function(t){e.roleSelect=t},onSubmit:e.modalSubmit}})],1)},r=[],n={methods:{onRole:function(){this.roleSelect=!0},modalSubmit:function(e){this.formConfig.formData.parentId=e.roleId,this.formConfig.formData.parentName=e.roleName}}},o={name:"user",mixins:[n],data:function(){return{breadcrumbList:[{icon:"",text:"系统管理"},{icon:"",text:"角色管理"}],tableColumn:[{type:"checkbox",width:50,fixed:null},{type:"seq",width:60,title:"序号",fixed:null},{field:"roleId",title:"角色ID"},{field:"parentName",title:"上级角色"},{field:"roleName",title:"角色名称"},{field:"enable",title:"是否启用",cellRender:{name:"IsEnable"}},{field:"creator",title:"创建人"},{field:"createDate",title:"创建时间"},{field:"modifier",title:"修改人"},{field:"modifyDate",title:"修改时间"}],searchConfig:{formItems:[{field:"RoleName",title:"角色名称",span:12,itemRender:{name:"$input",props:{placeholder:"请输入角色名称"}}},{field:"ParentName",title:"上级角色",span:12,itemRender:{name:"$input",props:{placeholder:"请选择上级角色"}}},{field:"DeptName",title:"部门名称",span:12,itemRender:{name:"$input",props:{placeholder:"请输入部门名称"}}},{field:"Enable",title:"是否启用",span:12,itemRender:{name:"$select",props:{placeholder:"请输入是否启用"},options:[{label:"是",value:1},{label:"否",value:0}]}},{field:"Creator",title:"创建人",span:12,itemRender:{name:"$input",props:{placeholder:"请输入创建人"}}},{field:"CreateDate",title:"创建时间",span:12,itemRender:{name:"$input",props:{type:"datetime",placeholder:"请选择创建时间"}}},{field:"Modifier",title:"修改人",span:12,itemRender:{name:"$input",props:{placeholder:"请输入修改人"}}},{field:"ModifyDate",title:"修改时间",span:12,itemRender:{name:"$input",props:{type:"datetime",placeholder:"请选择修改时间"}}}],formData:{CreateDate:null,Creator:null,DeptName:null,Dept_Id:null,Enable:null,Modifier:null,ModifyDate:null,OrderNo:null,ParentId:null,ParentName:null,RoleAuths:null,RoleName:null,Role_Id:null},mainValue:"RoleName"},formConfig:{formData:{createDate:null,creator:null,deptName:null,deptId:null,enable:null,modifier:null,modifyDate:null,orderNo:null,parentId:null,parentName:null,roleAuths:null,roleName:null,roleId:null},formRules:{parentName:[{required:!0,message:"请选择上级角色"}],roleName:[{required:!0,message:"请输入角色名称"}],enable:[{required:!0,message:"请选择是否启用"}]},formItems:[{align:"right",span:24,titleAlign:"left",itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"提交",status:"primary"}},{props:{type:"reset",content:"重置"}}]}},{span:24,itemRender:{name:"$divider",props:{title:"基本信息"}}},{field:"parentName",title:"上级角色",span:12,itemRender:{name:"$input",props:{placeholder:"请选择上级角色"},events:{focus:this.onRole}}},{field:"roleName",title:"角色名称",span:12,itemRender:{name:"$input",props:{placeholder:"请输入角色名称"}}},{field:"enable",title:"是否启用",span:12,itemRender:{name:"$select",props:{placeholder:"请输入是否启用"},options:[{label:"是",value:1},{label:"否",value:0}]}},{span:24,itemRender:{name:"$divider",props:{title:"其他信息"}}},{field:"creator",title:"创建人",span:12,itemRender:{name:"$input",props:{readonly:!0,placeholder:"-"}}},{field:"createDate",title:"创建时间",span:12,itemRender:{name:"$input",props:{readonly:!0,placeholder:"-"}}},{field:"modifier",title:"修改人",span:12,itemRender:{name:"$input",props:{readonly:!0,placeholder:"-"}}},{field:"modifyDate",title:"修改时间",span:12,itemRender:{name:"$input",props:{readonly:!0,placeholder:"-"}}}],detailList:["roleName","deptName"]},urlConfig:{url:"/api/role/",key:"roleId"},roleSelect:!1,roleTableCol:[{field:"roleId",title:"角色Id"},{field:"roleName",title:"角色名"}]}}},l=o,s=a("c701"),c=Object(s["a"])(l,i,r,!1,null,"669ffd4e",null);t["default"]=c.exports},c9d8:function(e,t,a){"use strict";a("4616")},cdbb:function(e,t,a){"use strict";a("fa65")},e909:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("47f1"),r=n(i);function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);return a}a("24cd"),t.default={render:function(e){return e("div",{style:this.containerStyle},[e("img",{ref:"img",attrs:{src:this.src,alt:this.alt||"image",style:"max-width: 100%"},style:this.imgStyle})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,aspectRatio:Number,data:Object,preview:[String,Array,Element,NodeList],responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var e=this.$options.props,t=(e.containerStyle,e.src,e.alt,e.imgStyle,o(e,["containerStyle","src","alt","imgStyle"])),a={};for(var i in t)void 0!==this[i]&&(a[i]=this[i]);this.cropper=new r.default(this.$refs.img,a)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.cropper.replace(e,t)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(e,t){return this.cropper.move(e,t)},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.cropper.moveTo(e,t)},relativeZoom:function(e,t){return this.cropper.zoom(e,t)},zoomTo:function(e,t){return this.cropper.zoomTo(e,t)},rotate:function(e){return this.cropper.rotate(e)},rotateTo:function(e){return this.cropper.rotateTo(e)},scaleX:function(e){return this.cropper.scaleX(e)},scaleY:function(e){return this.cropper.scaleY(e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.cropper.scale(e,t)},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.cropper.getData(e)},setData:function(e){return this.cropper.setData(e)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(e){return this.cropper.setCanvasData(e)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(e){return this.cropper.setCropBoxData(e)},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cropper.getCroppedCanvas(e)},setAspectRatio:function(e){return this.cropper.setAspectRatio(e)},setDragMode:function(e){return this.cropper.setDragMode(e)}}}},f552:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("skContainerAside",{attrs:{asideWidth:"200px"},scopedSlots:e._u([{key:"header",fn:function(){return[a("skBreadcrumb",{attrs:{list:e.breadcrumbList}})]},proxy:!0},{key:"aside",fn:function(){return[a("div",{staticClass:"roleClass"},[e._v("角色列表")]),a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("div",{style:{overflowY:"scroll",height:e.treeHeight+"px"}},[a("el-tree",{ref:"tree",attrs:{data:e.roleTreeData,props:e.defaultProps,"check-on-click-node":!0,"highlight-current":!0,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":e.filterNode},on:{"node-click":e.onNodeClick}})],1)]},proxy:!0},{key:"default",fn:function(){return[a("el-container",[a("el-header",{attrs:{height:"30px"}},[a("div",{staticClass:"flex-between"},[a("div",[e._v("当前选中角色:"),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(e.roleData.roleName))])]),a("div",[a("skButton",{attrs:{name:"save"},on:{onSave:e.onSave}})],1)])]),a("el-main",[a("div",{style:{overflowY:"scroll",height:e.treeHeight+"px"}},[a("el-tree",{ref:"menuTreeData",attrs:{data:e.menuTreeData,"show-checkbox":"","node-key":"id","default-expand-all":"","expand-on-click-node":!1},on:{"check-change":e.leftCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return a("div",{staticClass:"flex-between"},[a("div",{style:{width:18*(4-i.lv)+150+"px"}},[e._v(e._s(i.menuName))]),a("div",{staticStyle:{"margin-left":"50px"}},e._l(i.actions,(function(t,i){return a("el-checkbox",{key:i,on:{change:function(){}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(e._s(t.text))])})),1)])}}])})],1)])],1)]},proxy:!0}])})},r=[],n=(a("e5b4"),a("1bc7"),a("b775")),o=function(e){return Object(n["a"])({url:"/api/currentTreePermission/",method:"get",data:e})},l=function(e){return Object(n["a"])({url:"/api/userTreePermission/?roleId="+e.roleId,method:"get",params:{}})},s=function(e){return Object(n["a"])({url:"/api/userTreePermission/?roleId="+e.roleId,method:"post",data:e})},c={created:function(){this.getInit()},methods:{filterNode:function(e,t){return!e||-1!==t.roleName.indexOf(e)},getInit:function(){var e=this;o().then((function(t){e.roleTreeData=e.$utils.toArrayTree(t.data.roles),e.data=t.data.tree,e.data.forEach((function(t){0==t.parentId&&(t.lv=1,t.children=[],e.menuTreeData.push(t),e.getTree(t.menuId,t))}))}))},getTree:function(e,t){var a=this;this.data.forEach((function(i){i.parentId==e&&(i.lv=t.lv+1,t.children||(t.children=[]),t.children.push(i),a.getTree(i.menuId,i))}))},leftCheckChange:function(e,t){var a=this;e.actions.forEach((function(e,i){a.$set(e,"checked",t)}))},onNodeClick:function(e,t,a){var i=this;this.roleData={roleName:e.roleName,roleId:e.roleId},this.data.forEach((function(e){e.actions.forEach((function(e){i.$set(e,"checked",!1)}))})),l(this.roleData).then((function(e){if(2e3===!e.code)return i.$message.error(e.message);e.data.forEach((function(e){if(0!=e.actions.length){var t=i.data.find((function(t){return t.menuId==e.id}));t&&e.actions.forEach((function(e){t.actions.forEach((function(t){t.value==e&&i.$set(t,"checked",!0)}))}))}}))}))},onSave:function(){var e=this;if(null==this.roleData.roleId||""==this.roleData.roleId)return this.$message.error("请选择角色!");var t=[];this.data.forEach((function(e){var a=e.actions.filter((function(e){return e.checked}));if(a.length>0){var i=a.map((function(e){return{text:e.text,value:e.value}}));t.push({id:e.menuId,actions:i})}})),s({roleId:this.roleData.roleId,list:t}).then((function(t){e.$message[2e3===t.code?"success":"error"](t.message)}))}}},h={name:"permission",mixins:[c],data:function(){return{breadcrumbList:[{icon:"",text:"系统管理"},{icon:"",text:"权限管理"}],filterText:"",treeHeight:500,roleData:{roleName:"未选择",roleId:null},roleTreeData:[],menuTreeData:[],defaultProps:{children:"children",label:"roleName"}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this.getScreen();this.treeHeight=e.height-300}},u=h,d=(a("c9d8"),a("c701")),p=Object(d["a"])(u,i,r,!1,null,"7e2db0d3",null);t["default"]=p.exports},fa65:function(e,t,a){}}]);